<div class="login-container container-fluid min-vh-100 p-0">
  <div class="row g-0 min-vh-100">

    <div class="welcome-section col-lg-6 d-none d-lg-flex align-items-center justify-content-center text-center text-white px-4 px-xl-5">
      <div>
        <div class="welcome-logo bg-white rounded-4 shadow mb-4 mx-auto">
          <img src="assets/logo/SP-foundation-logo.png" class="img-fluid" alt="Foundation Logo">
        </div>
        <h2 class="fw-semibold fs-1">Welcome Back</h2>
        <p class="mt-2 fs-5">Letâ€™s fix problems in your area together</p>
      </div>
    </div>

    <div class="login-side-section col-12 col-lg-6 d-flex flex-column align-items-center justify-content-center bg-white px-3 px-sm-4">
      <div class="login-content w-100">
        
        <div class="logo-section mb-4 d-flex align-items-center bg-white rounded p-2">
          <h3 class="m-0 fw-bold text-dark d-flex align-items-center gap-2">
            <img src="/assets/logo/site-logo.png" class="brand-logo" alt="JanSevak logo">
            <span>Jan<span class="text-orange-dark">Sevak</span></span>
          </h3>
        </div>

        <div class="login-card p-4 p-md-5 shadow-lg rounded-4 border-0">
          <h5 class="fw-bold mb-1">Login</h5>
          <div class="red-line mb-4"></div>

          <form #loginForm="ngForm" (ngSubmit)="onLogin(loginForm)" novalidate>
            <div class="mb-3">
              <input type="email" [(ngModel)]="loginData.email" name="email" #emailRef="ngModel" required email
                class="form-control form-control-lg bg-light border-0 shadow-none py-3 px-4 rounded-3"
                [class.is-invalid]="emailRef.invalid && (emailRef.touched || loginForm.submitted)"
                placeholder="Email Address">

              @if (emailRef.invalid && (emailRef.touched || loginForm.submitted)) {
              <div class="text-danger small mt-1 animate-error">
                @if (emailRef.errors?.['required']) {
                <span><i class="bi bi-exclamation-circle me-1"></i>Email is required.</span>
                }
                @if (emailRef.errors?.['email']) {
                <span><i class="bi bi-exclamation-circle me-1"></i>Please enter a valid email.</span>
                }
              </div>
              }
            </div>

            <div class="mb-4 position-relative">
              <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="loginData.password" name="password"
                #passRef="ngModel" required minlength="8" 
                class="form-control form-control-lg bg-light border-0 shadow-none py-3 px-4 rounded-3"
                [class.is-invalid]="passRef.invalid && (passRef.touched || loginForm.submitted)" 
                placeholder="Password">

              <i class="bi password-icon" [class.bi-eye]="!showPassword" [class.bi-eye-slash]="showPassword"
                (click)="togglePassword()">
              </i>

              @if (passRef.invalid && (passRef.touched || loginForm.submitted)) {
              <div class="text-danger small mt-1 animate-error">
                <i class="bi bi-exclamation-circle me-1"></i>Password is required (min 8 chars).
              </div>
              }
            </div>

            <button type="submit" class="btn btn-login-gradient w-100 py-3 mt-2 rounded-pill fw-bold border-0 shadow-sm">
              Login
            </button>
          </form>
        </div>

      </div>
    </div>

  </div>
</div>